<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Прыгающий мяч</title>
  </head>
  <body>
    <canvas id="canvas" width="200" height="200"> </canvas>
    <script>

    function Ball(){
      this.x = 100
      this.y = 100
      this.xSpeed = (Math.random() * 10 - 5)
      this.ySpeed = (Math.random() * 10 - 5)
      this.color = colors[Math.floor(Math.random()*colors.length)]
   }

    function circle(x,y,radius,fillCircle,color){
      ctx.beginPath()
      ctx.arc(x,y,radius,Math.PI*2,false)
      if (fillCircle){
        ctx.fill()
        ctx.fillStyle = color
      } else{
        ctx.stroke()
      }
    }
    Ball.prototype.draw = function(){
        circle(this.x,this.y,3,true,this.color)
        }
    Ball.prototype.move = function(){
      this.x += this.xSpeed
      this.y += this.ySpeed
    }
    Ball.prototype.checkCollision = function(){
      if (this.x < 3 || this.x > width){
        this.xSpeed = -this.xSpeed
        //добавим условие для попадания шара в угол
        if  (this.y <= 3 || this.y >= height){
          this.ySpeed = -this.ySpeed
        }
      } else if (this.y <= 3 || this.y >= height){
        this.ySpeed = -this.ySpeed
        //так-же условие для шара попавшего в угол
        if (this.x < 3 || this.x > width){
          this.xSpeed = -this.xSpeed
        }
      }
    }

    canvas = document.getElementById("canvas")
    ctx = canvas.getContext("2d")
    width = canvas.width //переменные для изменения размеров поля
    height = canvas.height

    ballArray = []
    colors = ["red","green","blue","gold","pink","yellow","purple","black"]
    //color = colors[Math.floor(Math.random()*colors.length)]

    for (i=0; i<10; i++) {
       ballArray[i] = new Ball()
     }
    setInterval(function(){
      ctx.clearRect(0,0,width,height)
      for (i=0; i<10; i++){
        ballArray[i].draw()
        ballArray[i].move()
        ballArray[i].checkCollision()
      }

      ctx.strokeRect(0,0,width,height)
    },30)

    </script>
  </body>
</html>
